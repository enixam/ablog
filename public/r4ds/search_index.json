[
["data-summary.html", "14 Data Summary 14.1 skimr 14.2 visdat 14.3 summarytools 14.4 gt and gtsummary", " 14 Data Summary 14.1 skimr skimr(Waring et al. 2019) 是由 rOpenSci project 开发的用于探索性数据分析的包，可以看作增强版的 summary()，根据不同的列类型返回整洁有用的统计量。如： library(skimr) skim(iris) #&gt; -- Data Summary ------------------------ #&gt; Values #&gt; Name iris #&gt; Number of rows 150 #&gt; Number of columns 5 #&gt; _______________________ #&gt; Column type frequency: #&gt; factor 1 #&gt; numeric 4 #&gt; ________________________ #&gt; Group variables None #&gt; #&gt; -- Variable type: factor ----------------------------------------------------------------------------------------------- #&gt; skim_variable n_missing complete_rate ordered n_unique #&gt; 1 Species 0 1 FALSE 3 #&gt; top_counts #&gt; 1 set: 50, ver: 50, vir: 50 #&gt; #&gt; -- Variable type: numeric ---------------------------------------------------------------------------------------------- #&gt; skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 #&gt; 1 Sepal.Length 0 1 5.84 0.828 4.3 5.1 5.8 6.4 #&gt; 2 Sepal.Width 0 1 3.06 0.436 2 2.8 3 3.3 #&gt; 3 Petal.Length 0 1 3.76 1.77 1 1.6 4.35 5.1 #&gt; 4 Petal.Width 0 1 1.20 0.762 0.1 0.3 1.3 1.8 #&gt; p100 hist #&gt; 1 7.9 &lt;U+2586&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2585&gt;&lt;U+2582&gt; #&gt; 2 4.4 &lt;U+2581&gt;&lt;U+2586&gt;&lt;U+2587&gt;&lt;U+2582&gt;&lt;U+2581&gt; #&gt; 3 6.9 &lt;U+2587&gt;&lt;U+2581&gt;&lt;U+2586&gt;&lt;U+2587&gt;&lt;U+2582&gt; #&gt; 4 2.5 &lt;U+2587&gt;&lt;U+2581&gt;&lt;U+2587&gt;&lt;U+2585&gt;&lt;U+2583&gt; 由于 skim() 的返回结果在 bookdown 里显示效果不太好，这里只给出一个最简单的例子，关于该包的具体使用可见 Introduction to skimr 14.2 visdat # install.packages(&quot;visdata&quot;) library(visdat) https://docs.ropensci.org/visdat/ vis_dat(ggplot2::diamonds) 14.3 summarytools 由于很多 summarytools 中的函数往往直接生成 markdown 代码，为了在 rmarkdown 正确美观的呈现它们需要同时设置 summarytools 中和 knitr 中的一些全局选项：（详细可见Recommendations for Using summarytools With Rmarkdown）。 library(summarytools) st_options(bootstrap.css = FALSE, # Already part of the theme so no need for it plain.ascii = FALSE, # One of the essential settings style = &quot;rmarkdown&quot;, # Idem. dfSummary.silent = TRUE, # Suppresses messages about temporary files footnote = NA, # Keeping the results minimalistic subtitle.emphasis = FALSE) # For the vignette theme, this gives # much better results. Your mileage may vary. st_css() # This is a must; without it, expect odd layout, especially with dfSummary() #&gt; &lt;style type=&quot;text/css&quot;&gt; #&gt; img { background-color: transparent; border: 0; } .st-table td, .st-table th { padding: 8px; } .st-table &gt; thead &gt; tr { background-color: #eeeeee; } .st-cross-table td { text-align: center; } .st-descr-table td { text-align: right; } .st-small { font-size: 13px; } .st-small td, .st-small th { padding: 8px; } table.st-table th { text-align: center; } .st-small &gt; thead &gt; tr &gt; th, .st-small &gt; tbody &gt; tr &gt; th, .st-small &gt; tfoot &gt; tr &gt; th, .st-small &gt; thead &gt; tr &gt; td, .st-small &gt; tbody &gt; tr &gt; td, .st-small &gt; tfoot &gt; tr &gt; td { padding-left: 12px; padding-right: 12px; } table.st-table &gt; thead &gt; tr { background-color: #eeeeee; } table.st-table td span { display: block; } .st-container { width: 100%; padding-right: 15px; padding-left: 15px; margin-right: auto; margin-left: auto; margin-top: 15px; } .st-multiline { white-space: pre; } .st-table { width: auto; table-layout: auto; margin-top: 20px; margin-bottom: 20px; max-width: 100%; background-color: transparent; border-collapse: collapse; } .st-table &gt; thead &gt; tr &gt; th, .st-table &gt; tbody &gt; tr &gt; th, .st-table &gt; tfoot &gt; tr &gt; th, .st-table &gt; thead &gt; tr &gt; td, .st-table &gt; tbody &gt; tr &gt; td, .st-table &gt; tfoot &gt; tr &gt; td { vertical-align: middle; } .st-table-bordered { border: 1px solid #bbbbbb; } .st-table-bordered &gt; thead &gt; tr &gt; th, .st-table-bordered &gt; tbody &gt; tr &gt; th, .st-table-bordered &gt; tfoot &gt; tr &gt; th, .st-table-bordered &gt; thead &gt; tr &gt; td, .st-table-bordered &gt; tbody &gt; tr &gt; td, .st-table-bordered &gt; tfoot &gt; tr &gt; td { border: 1px solid #cccccc; } .st-table-bordered &gt; thead &gt; tr &gt; th, .st-table-bordered &gt; thead &gt; tr &gt; td, .st-table thead &gt; tr &gt; th { border-bottom: none; } .st-freq-table &gt; thead &gt; tr &gt; th, .st-freq-table &gt; tbody &gt; tr &gt; th, .st-freq-table &gt; tfoot &gt; tr &gt; th, .st-freq-table &gt; thead &gt; tr &gt; td, .st-freq-table &gt; tbody &gt; tr &gt; td, .st-freq-table &gt; tfoot &gt; tr &gt; td, .st-freq-table-nomiss &gt; thead &gt; tr &gt; th, .st-freq-table-nomiss &gt; tbody &gt; tr &gt; th, .st-freq-table-nomiss &gt; tfoot &gt; tr &gt; th, .st-freq-table-nomiss &gt; thead &gt; tr &gt; td, .st-freq-table-nomiss &gt; tbody &gt; tr &gt; td, .st-freq-table-nomiss &gt; tfoot &gt; tr &gt; td, .st-cross-table &gt; thead &gt; tr &gt; th, .st-cross-table &gt; tbody &gt; tr &gt; th, .st-cross-table &gt; tfoot &gt; tr &gt; th, .st-cross-table &gt; thead &gt; tr &gt; td, .st-cross-table &gt; tbody &gt; tr &gt; td, .st-cross-table &gt; tfoot &gt; tr &gt; td { padding-left: 20px; padding-right: 20px; } .st-table-bordered &gt; thead &gt; tr &gt; th, .st-table-bordered &gt; tbody &gt; tr &gt; th, .st-table-bordered &gt; thead &gt; tr &gt; td, .st-table-bordered &gt; tbody &gt; tr &gt; td { border: 1px solid #cccccc; } .st-table-striped &gt; tbody &gt; tr:nth-of-type(odd) { background-color: #ffffff; } .st-table-striped &gt; tbody &gt; tr:nth-of-type(even) { background-color: #f9f9f9; } .st-descr-table &gt; thead &gt; tr &gt; th, .st-descr-table &gt; tbody &gt; tr &gt; th, .st-descr-table &gt; tfoot &gt; tr &gt; th, .st-descr-table &gt; thead &gt; tr &gt; td, .st-descr-table &gt; tbody &gt; tr &gt; td, .st-descr-table &gt; tfoot &gt; tr &gt; td { padding-left: 24px; padding-right: 24px; word-wrap: break-word; } .st-freq-table, .st-freq-table-nomiss, .st-cross-table { border: medium none; } .st-freq-table &gt; thead &gt; tr:nth-child(1) &gt; th:nth-child(1), .st-cross-table &gt; thead &gt; tr:nth-child(1) &gt; th:nth-child(1), .st-cross-table &gt; thead &gt; tr:nth-child(1) &gt; th:nth-child(3) { border: none; background-color: #ffffff; text-align: center; } .st-protect-top-border { border-top: 1px solid #cccccc !important; } .st-ws-char { display: inline; color: #999999; letter-spacing: 0.2em; } &lt;/style&gt; library(knitr) opts_chunk$set(comment = NA, prompt = FALSE, results=&#39;asis&#39;, collapse = FALSE) 如果之前没有设置 collpase = TRUE, collapse = FALSE 不是必要的 14.3.1 freq freq(iris$Species, plain.ascii = FALSE, style = &quot;rmarkdown&quot;, headings = FALSE) | &amp;nbsp; | Freq | % Valid | % Valid Cum. | % Total | % Total Cum. | |---------------:|-----:|--------:|-------------:|--------:|-------------:| | **setosa** | 50 | 33.33 | 33.33 | 33.33 | 33.33 | | **versicolor** | 50 | 33.33 | 66.67 | 33.33 | 66.67 | | **virginica** | 50 | 33.33 | 100.00 | 33.33 | 100.00 | | **\\&lt;NA\\&gt;** | 0 | | | 0.00 | 100.00 | | **Total** | 150 | 100.00 | 100.00 | 100.00 | 100.00 | freq(iris$Species, report.nas = FALSE, headings = FALSE) #&gt; #&gt; Freq % % Cum. #&gt; ---------------- ------ -------- -------- #&gt; setosa 50 33.33 33.33 #&gt; versicolor 50 33.33 66.67 #&gt; virginica 50 33.33 100.00 #&gt; Total 150 100.00 100.00 freq(iris$Species, report.nas = FALSE, totals = FALSE, cumul = FALSE, style = &quot;rmarkdown&quot;, headings = FALSE) #&gt; #&gt; | &amp;nbsp; | Freq | % | #&gt; |---------------:|-----:|------:| #&gt; | **setosa** | 50 | 33.33 | #&gt; | **versicolor** | 50 | 33.33 | #&gt; | **virginica** | 50 | 33.33 | 14.3.2 descr() descr(iris) #&gt; Descriptive Statistics #&gt; iris #&gt; N: 150 #&gt; #&gt; Petal.Length Petal.Width Sepal.Length Sepal.Width #&gt; ----------------- -------------- ------------- -------------- ------------- #&gt; Mean 3.76 1.20 5.84 3.06 #&gt; Std.Dev 1.77 0.76 0.83 0.44 #&gt; Min 1.00 0.10 4.30 2.00 #&gt; Q1 1.60 0.30 5.10 2.80 #&gt; Median 4.35 1.30 5.80 3.00 #&gt; Q3 5.10 1.80 6.40 3.30 #&gt; Max 6.90 2.50 7.90 4.40 #&gt; MAD 1.85 1.04 1.04 0.44 #&gt; IQR 3.50 1.50 1.30 0.50 #&gt; CV 0.47 0.64 0.14 0.14 #&gt; Skewness -0.27 -0.10 0.31 0.31 #&gt; SE.Skewness 0.20 0.20 0.20 0.20 #&gt; Kurtosis -1.42 -1.36 -0.61 0.14 #&gt; N.Valid 150.00 150.00 150.00 150.00 #&gt; Pct.Valid 100.00 100.00 100.00 100.00 14.4 gt and gtsummary # devtools::install_github(&quot;rstudio/gt&quot;) # install.packages(&quot;gtsummary&quot;) library(gt) library(gtsummary) t1 &lt;- tbl_summary( data = trial[c(&quot;trt&quot;, &quot;age&quot;, &quot;grade&quot;, &quot;response&quot;)], by = trt ) %&gt;% add_p() "]
]
